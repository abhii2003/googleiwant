function loadURL(url) {
  if (!url.startsWith('http://') && !url.startsWith('https://')) {
    url = 'https://' + url;
  }
  // Instead of loading URL directly in iframe,
  // load it through your Netlify proxy function
  const proxyUrl = '/.netlify/functions/proxy?url=' + encodeURIComponent(url);

  frame.src = proxyUrl;
  urlInput.value = url;

  history.pushState({url: url}, '', '/view?url=' + encodeURIComponent(url));
}
